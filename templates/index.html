<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微信文章归档索引 - 第 {{ current_page }} 页</title>
    <style>
        :root { --primary-color: #07c160; --text-color: #333; --bg-color: #f5f5f5; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        h1 { text-align: center; color: var(--primary-color); margin-bottom: 10px; }
        .stats { text-align: center; color: #666; margin-bottom: 30px; font-size: 0.9em; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background-color: #f8f9fa; text-align: left; padding: 12px; border-bottom: 2px solid #eee; }
        td { padding: 12px; border-bottom: 1px solid #eee; }
        tr:hover { background-color: #fcfcfc; }
        .btn { display: inline-block; padding: 6px 12px; border-radius: 4px; text-decoration: none; font-size: 0.85em; transition: 0.2s; }
        .btn-read { background-color: var(--primary-color); color: white; }
        .btn-read:hover { background-color: #06ad56; }
        .btn-orig { color: #666; border: 1px solid #ddd; margin-left: 5px; }
        .btn-orig:hover { background-color: #f0f0f0; }
        .author { color: #888; font-size: 0.9em; }
        .date { font-family: monospace; color: #555; }
        
        /* Pagination Styles */
        .pagination { display: flex; justify-content: center; align-items: center; margin-top: 30px; gap: 5px; }
        .page-link { padding: 8px 12px; border: 1px solid #ddd; border-radius: 4px; text-decoration: none; color: #555; font-size: 0.9em; }
        .page-link:hover:not(.disabled):not(.active) { background-color: #f0f0f0; border-color: #ccc; }
        .page-link.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
        .page-link.disabled { color: #aaa; pointer-events: none; border-color: #eee; }
        .ellipsis { padding: 0 5px; color: #888; }
    </style>
</head>
<body>
    <div class="container">
        <h1>微信文章归档索引</h1>
        <div class="stats">共收录 {{ total_records }} 篇文章 | 当前第 {{ current_page }}/{{ total_pages }} 页 | 最后更新: {{ update_time }}</div>
        
        <!-- Top Pagination -->
        {% include 'pagination.html' %}

        <table>
            <thead>
                <tr>
                    <th width="120">发布日期</th>
                    <th>文章标题</th>
                    <th width="150">本地阅读</th>
                </tr>
            </thead>
            <tbody>
                {% for r in records %}
                <tr>
                    <td class="date">{{ r.date }}</td>
                    <td>
                        <div style="font-weight: 500;">{{ r.title }}</div>
                        <div class="author">{{ r.author }}</div>
                    </td>
                    <td>
                        <a href="./{{ r.path | url_quote }}" class="btn btn-read">阅读</a>
                        <a href="{{ r.url }}" target="_blank" class="btn btn-orig">原文</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Bottom Pagination -->
        {% include 'pagination.html' %}
    </div>
</body>
</html>